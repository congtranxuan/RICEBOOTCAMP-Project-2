<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Life Expectancy</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="assets/css/d3Style.css" />
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
      integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"
    ></script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.7.1/d3-tip.min.js"></script>
    <script type="text/javascript" src="assets/js/app.js"></script>
    <script type="text/javascript" src="assets/js/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="assets/js/d3.js"></script>
  </head>

  <body onload="makeResponsive('2010','W');">
    <div class="container">
      <div class="row">
        <div class="col-xs-12 col-md-12">
          <h1 align="center">
            The Effect of Water and Sanitation on Life Expectancy
          </h1>
        </div>
      </div>
      <di>
        <br /><br />
        <table align="right">
          <tr>
            <td>
              <div id="info1" style="text-align: center;">
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Data loaded ...
              </div>
            </td>
            <td>
              <div id="info2"></div>
              <select id="years" onChange="changeYear();">
                <option value="" selected>2016</option>
                <option value="">2010</option>
                <option value="">2000</option>
              </select>
            </td>
          </tr>
          <tr>
            <td><br /></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td>
              <input
                id="info2"
                type="radio"
                name="op1"
                value="W"
                onChange="changeYear();"
                checked
              />
              Water <br />
              <input
                id="info2"
                type="radio"
                name="op1"
                value="S"
                onChange="changeYear();"
              />
              Sanitation <br />
            </td>
          </tr>
        </table>
      </di>
      <div class="row">
        <div class="col-xs-12  col-md-9">
          <div id="scatter">
            <!-- We append our chart here. -->
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12  col-md-9">
          <div class="article">
            <h2>
              Correlations Discovered Between Health Risks and Age, Income
            </h2>
            <p>
              Pellentesque habitant morbi tristique senectus et netus et
              malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat
              vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit
              amet quam egestas semper. Aenean ultricies mi vitae est. Mauris
              placerat eleifend leo.
            </p>

            <p>
              Pellentesque habitant morbi tristique senectus et netus et
              malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat
              vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit
              amet quam egestas semper. Aenean ultricies mi vitae est. Mauris
              placerat eleifend leo.
            </p>

            <p>
              Pellentesque habitant morbi tristique senectus et netus et
              malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat
              vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit
              amet quam egestas semper. Aenean ultricies mi vitae est. Mauris
              placerat eleifend leo.
            </p>
          </div>
        </div>
      </div>
    </div>
    <!-- Footer-->
    <div id="footer">
      <p>The Life Expectancy Analysis 2019</p>
    </div>

    <script type="text/javascript">
      function changeYear() {
        //alert(document.querySelector('input[id="info2"]:checked').value);
        var yr = document.querySelector("#years").selectedOptions; //getElementById("years");
        var yr2;
        for (let i = 0; i < yr.length; i++) {
          console.log("Selected Year : " + yr[i].text);
          yr2 = yr[i].text;
        }
        makeResponsive(
          yr2,
          document.querySelector('input[id="info2"]:checked').value
        );
        GlobalvalueUpdate(
          yr2,
          document.querySelector('input[id="info2"]:checked').value
        );
      }
    </script>
  </body>
</html>
